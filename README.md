# Bun CLI Template

## å°ˆæ¡ˆè³‡æ–™å¤¾çµæ§‹

```txt
rime-emoji/
â”œâ”€â”€ bun.lockb
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .prettierrc.yaml
â”œâ”€â”€ setup.ts
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                      # CLI å…¥å£
â”‚   â”œâ”€â”€ commands/                     # æ¯å€‹ CLI æŒ‡ä»¤å°æ‡‰ä¸€æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ fetch.ts
â”‚   â”‚   â”œâ”€â”€ parse.ts
â”‚   â”‚   â”œâ”€â”€ map-alias.ts
â”‚   â”‚   â”œâ”€â”€ export.ts
â”‚   â”‚   â””â”€â”€ sync.ts
â”‚   â”œâ”€â”€ core/                         # ç´”é‚è¼¯æ¨¡çµ„ï¼ˆæ–¹ä¾¿æ¸¬è©¦ï¼‰
â”‚   â”‚   â”œâ”€â”€ EmojiFetcher.ts
â”‚   â”‚   â”œâ”€â”€ EmojiParser.ts
â”‚   â”‚   â”œâ”€â”€ AliasMapper.ts
â”‚   â”‚   â”œâ”€â”€ OpenCCExporter.ts
â”‚   â”‚   â””â”€â”€ PipelineRunner.ts
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ mappings/                 # æ‰‹å‹•ç¶­è­·ï¼šéœ€ç‰ˆæœ¬æ§ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ alias.zh.json         # emoji âœ ä¸­æ–‡åˆ¥å
â”‚   â”‚   â”‚   â””â”€â”€ group.zh.json         # ç¾¤çµ„/å­ç¾¤çµ„ âœ ä¸­æ–‡ç¿»è­¯
â”‚   â”‚   â””â”€â”€ pipeline/                 # è‡ªå‹•ç”¢ç‰©ï¼šä¸é€²ç‰ˆæ§ âŒ
â”‚   â”‚       â”œâ”€â”€ 01-fetch/
â”‚   â”‚       â”œâ”€â”€ 02-parse/
â”‚   â”‚       â”œâ”€â”€ 03-map-alias/
â”‚   â”‚       â””â”€â”€ 04-export/
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ fs.ts                     # è¼”åŠ©å·¥å…·ï¼šå¦‚ loadJson/writeJson ç­‰
â”œâ”€â”€ dist/                             # æœ€çµ‚ç”¢å‡ºï¼ˆå¯é‡å»ºï¼Œå¯é¸ç‰ˆæœ¬æ§ï¼‰
â”‚   â”œâ”€â”€ opencc/emoji.zh.json
â”‚   â”œâ”€â”€ rime/emoji.dict.yaml
â”‚   â””â”€â”€ summary/emoji-table.md
â”œâ”€â”€ test/                             # æ¸¬è©¦èˆ‡ fixture
â”‚   â”œâ”€â”€ fixtures/
â”‚   â”‚   â””â”€â”€ sample-emoji.txt
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ EmojiParser.test.ts
â”‚   â”‚   â””â”€â”€ AliasMapper.test.ts
â”‚   â””â”€â”€ commands/
â”‚       â”œâ”€â”€ fetch.test.ts
â”‚       â””â”€â”€ sync.test.ts

```

## ğŸ“˜ å°ˆæ¡ˆç¸½åŸå‰‡

| æ§¤ç›®            | èªªæ˜                                        |
| --------------- | ------------------------------------------- |
| åˆ†éšæ®µè¨­è¨ˆ      | æ¯éšæ®µæœ‰å–®ä¸€è·è²¬ã€å–®ä¸€è¼¸å…¥/è¼¸å‡ºã€å¯ç¨ç«‹é‡å»º |
| ä¸­é–“ç”¢ç‰©å¿«å–    | ä¸é€² Gitï¼Œä½†å…è¨±é‡ç”¨ã€æ¯”å°ã€æª¢æŸ¥ä¸­é–“çµæœ    |
| çµæœé›†ä¸­æ–¼ dist | æœ€çµ‚çµ¦äººï¼ç¨‹å¼ä½¿ç”¨çš„æ ¼å¼éƒ½è¼¸å‡ºè‡³ `dist/`    |
| å…¨æµç¨‹ TDD      | æ¯å€‹éšæ®µçš†æœ‰å–®å…ƒèˆ‡æ•´åˆæ¸¬è©¦                  |
| CLI å¯é‡çµ„      | CLI åƒ…ä½œç‚ºåƒæ•¸æ§åˆ¶èˆ‡æµç¨‹çµ„è£ï¼Œä¸å«é‚è¼¯      |

## âœ… ä¸‹ä¸€æ­¥ï¼šTDD é–‹ç™¼é †åºå»ºè­°

| éšæ®µ         | å–®å…ƒæ¸¬è©¦æ¨¡çµ„             | é‡é»é©—è­‰                             |
| ------------ | ------------------------ | ------------------------------------ |
| 1. fetch     | `EmojiFetcher.test.ts`   | å¯å–å¾—ä¾†æºä¸¦å¿«å–                     |
| 2. parse     | `EmojiParser.test.ts`    | emoji-test.txt è§£ææˆçµæ§‹åŒ–é™£åˆ—      |
| 3. map-alias | `AliasMapper.test.ts`    | emoji æ­é…åˆ¥åèˆ‡ç¾¤çµ„ç¿»è­¯ç”¢ç”Ÿèªæ„è³‡æ–™ |
| 4. export    | `OpenCCExporter.test.ts` | è¼¸å‡ºç‚ºç¬¦åˆ OpenCC è¦æ ¼çš„ JSON        |
| 5. sync      | `sync.test.ts`           | ä¸²è¯å…¨éƒ¨æ­¥é©Ÿï¼Œä¸¦é©—è­‰ç”¢å‡ºå®Œæ•´æ€§       |

## âœ… å»ºè­°èµ·å§‹ alias.zh.json æª”æ¡ˆæ ¼å¼ç¯„ä¾‹

```json
{
  "â¤ï¸": ["æ„›", "å¿ƒ", "ç´…å¿ƒ"],
  "ğŸ˜‚": ["ç¬‘", "å“­ç¬‘", "çˆ†ç¬‘"],
  "âš ï¸": ["è­¦å‘Š", "æ³¨æ„", "é¢¨éšª"]
}
```
